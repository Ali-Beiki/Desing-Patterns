<div dir="rtl">

# الگوی طراحی Abstract Factory

این پروژه یه نمونه کاربردی از الگوی طراحی **Abstract Factory** هست. هدفش اینه که بتونیم فرآیند ساخت اشیاء مرتبط (مثل Header و Footer) رو برای محیط‌های مختلف (مثلاً PC و موبایل) از هم جدا کنیم. یعنی با تغییر تنها یه متغیر توی نقطه‌ی ورود برنامه، می‌تونیم خانواده‌های مختلفی از اشیاء رو تولید کنیم.

---



## تعریف الگو

تو دنیای توسعه نرم‌افزار، الگوهای طراحی واسه حل مسائل رایج خیلی کاربرد دارن. الگوی **Abstract Factory** به ما کمک می‌کنه تا خانواده‌های مرتبط از اشیاء رو بدون اینکه نیاز باشه مستقیماً به کلاس‌های پیاده‌سازی‌شده وابسته بشیم، بسازیم. اینجوری کدمون انعطاف‌پذیرتر میشه و نگهداریش هم راحت‌تر میشه.

---

## شرح الگو

تو این الگو، یه اینترفیس یا کلاس انتزاعی تعریف می‌شه که متدهایی واسه ساخت محصولات (اشیاء) مختلف داره. بعدش هر Concrete Factory (یعنی کارخانه‌ی مشخص) این اینترفیس رو پیاده‌سازی می‌کنه و اشیاء مربوط به خودش رو می‌سازه. تو این پروژه:

- **Concrete Factory برای PC**: `PcUIFactory`، که محصولات `PcHeader` و `PcFooter` رو تولید می‌کنه.
- **Concrete Factory برای Phone**: `PhoneUIFactory`، که محصولات `PhoneHeader` و `PhoneFooter` رو می‌سازه.

هر کدوم از این محصولات (هدر و فوتر) طوری پیاده‌سازی شدن که با استفاده از متد `__toString()` بتونن به راحتی به رشته تبدیل بشن و چاپ شوند.

---




---

## جزئیات پیاده‌سازی

### 1. تعریف اینترفیس‌های Abstract Factory و محصولات

- **UIFactory.php:**  
  این فایل اینترفیس `UIFactory` رو تعریف می‌کنه که شامل متدهای `create_header()` و `create_footer()` هست.

- **Header.php** و **Footer.php:**  
  این فایل‌ها واسه تعریف رابط‌های (interface) محصولات استفاده شدن؛ یعنی هر نوع Header یا Footer باید از اینترفیس‌ها پیروی کنه.

### 2. پیاده‌سازی Concrete Factory‌ها

- **pc-ui-factory.php:**  
  تو این فایل، کلاس `PcUIFactory` از اینترفیس `UIFactory` پیروی می‌کنه و با استفاده از متدهایش، اشیاء `PcHeader` و `PcFooter` رو می‌سازه.

- **phone-ui-factory.php:**  
  این کلاس هم دقیقاً مثل `PcUIFactory` عمل می‌کنه، فقط محصول مربوط به موبایل (یعنی `PhoneHeader` و `PhoneFooter`) رو تولید می‌کنه.

### 3. پیاده‌سازی Concrete Product‌ها

- **PcHeader.php** و **PcFooter.php:**  
  این کلاس‌ها برای محیط PC طراحی شدن. به عنوان مثال، متد `__toString()` در این کلاس‌ها نوشته شده تا وقتی شیء رو چاپ می‌کنیم، خروجی HTML مناسب رو نمایش بده.

- **PhoneHeader.php** و **PhoneFooter.php:**  
  این کلاس‌ها برای موبایل ساخته شدن و ساختار HTML اون‌ها با نسخه‌ی PC تفاوت داره تا متناسب با صفحه نمایش موبایل باشه.

---

## اجرا

فرض کنید توی فایل `index.php` کدمون به این شکل باشه:

```php
<?php
namespace UI_Handler;

// تعیین نوع دستگاه (مثلاً 'pc' یا 'phone')
$divice = 'pc';

// انتخاب کارخانه مناسب بر اساس نوع دستگاه
$divice_ui_handler = match ($divice) {
    'pc' => new PcUIFactory(),
    'phone' => new PhoneUIFactory(),
};

// چاپ خروجی (در اینجا هدر و فوتر به صورت HTML نمایش داده می‌شن)
echo "{$divice_ui_handler->create_header()} and {$divice_ui_handler->create_footer()} ";
?>
